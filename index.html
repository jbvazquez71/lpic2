<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador LPIC-2 Pro</title>
    
    <!-- Font Awesome para iconos (reemplaza emojis) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <script src="js/LPIC2-2-450.js"></script>
    <script src="js/LPIC2-2-450-EN.js"></script>
    <script src="js/LPI-202-400-12.35.js"></script>
    <script src="js/LPI-202-400-12.35-EN.js"></script>
    
    <script src="js/main.js"></script>
    <link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body>
    <div id="header" role="banner">
        <h1>Test LPIC-2 <span class="version-badge" aria-label="Versión"></span></h1>
        <div class="header-right">
            <select id="examSelect" aria-label="Seleccionar examen">
                <option value="LPIC2_2" selected>LPIC-2 202-450 (Castellano)</option>
                <option value="LPIC2_2_EN">LPIC-2 202-450 (Inglés)</option>
                <option value="LPI_400">LPI-202-400 V12.35 (Castellano)</option>
                <option value="LPI_400_EN">LPI-202-400 V12.35 (Inglés)</option>
            </select>
            <button id="toggleDarkMode" 
                    title="Cambiar tema" 
                    aria-label="Cambiar entre modo claro y oscuro">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </div>

    <div class="progress-container" role="progressbar" 
         aria-valuenow="0" 
         aria-valuemin="0" 
         aria-valuemax="100"
         aria-label="Progreso del examen">
        <div id="progressBar" class="progress-bar"></div>
    </div>

    <div id="content" role="main">
        <div class="card" id="mainCard">
            <!-- Info de respuestas múltiples -->
            <div id="multiSelectInfo" class="multi-select-info" style="display:none;" role="alert">
                <i class="fas fa-info-circle"></i>
                <span>Selecciona TODAS las respuestas correctas</span>
            </div>
            
            <div id="question" class="question" role="region" aria-live="polite"></div>
            <div id="answer" class="answer"></div>
            
            <!-- Navegación entre preguntas -->
            <div id="navigation" class="navigation-buttons" style="display:none;">
                <button id="prevBtn" onclick="navigateQuestion(-1)" aria-label="Pregunta anterior">
                    <i class="fas fa-arrow-left"></i> Anterior
                </button>
                <button id="skipBtn" onclick="skipQuestion()" aria-label="Saltar pregunta">
                    <i class="fas fa-forward"></i> Saltar
                </button>
                <button id="reviewModeBtn" onclick="enterReviewMode()" aria-label="Modo revisión" style="display:none;">
                    <i class="fas fa-list"></i> Revisar
                </button>
            </div>
            
            <div id="buttons" class="buttons"></div>
            
            <!-- Atajos de teclado (ayuda) -->
            <div id="keyboardHelp" class="keyboard-help" style="display:none;">
                <small>
                    <i class="fas fa-keyboard"></i> 
                    <strong>Atajos:</strong> 
                    1-5 = Seleccionar opción | 
                    Enter = Confirmar | 
                    H = Ayuda
                </small>
            </div>
        </div>

        <!-- Resultados finales -->
        <div class="card" id="resultReport" style="display:none; text-align:center;" role="region" aria-live="polite">
            <h2><i class="fas fa-chart-bar"></i> Resultados del Examen</h2>
            <div id="finalScore" style="font-size: 4rem; margin: 20px 0; font-weight: bold; color: var(--primary-color);" aria-label="Puntuación final"></div>
            <p id="finalStatsText" style="font-size: 1.2rem; margin-bottom:20px;"></p>
            
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <button id="reviewBtn" onclick="showReviewMode()" style="padding: 15px 30px; font-size:1.1rem; cursor:pointer; background: var(--success-color);">
                    <i class="fas fa-search"></i> Ver Revisión
                </button>
                <button id="restartBtn" style="padding: 15px 30px; font-size:1.1rem; cursor:pointer;">
                    <i class="fas fa-redo"></i> Realizar otro Test
                </button>
            </div>
        </div>
        
        <!-- Modo de revisión -->
        <div class="card" id="reviewPanel" style="display:none;">
            <div class="review-header">
                <h2><i class="fas fa-clipboard-list"></i> Modo Revisión</h2>
                <button onclick="exitReviewMode()" class="close-review" aria-label="Cerrar revisión">
                    <i class="fas fa-times"></i> Cerrar
                </button>
            </div>
            <div id="reviewList" class="review-list"></div>
        </div>
    </div>

    <div id="footer" role="contentinfo">
        <div class="footer-item">
            <span><i class="fas fa-clock"></i> Tiempo</span>
            <div class="footer-box" id="timer" aria-label="Tiempo transcurrido">00:00</div>
        </div>
        <div class="footer-item">
            <span><i class="fas fa-list-ol"></i> Progreso</span>
            <div class="footer-box" id="number" aria-label="Preguntas completadas">0/0</div>
        </div>
        <div class="footer-item">
            <span><i class="fas fa-check-circle"></i> Aciertos</span>
            <div class="footer-box" id="hits" style="color:#10b981" aria-label="Respuestas correctas">0</div>
        </div>
        <div class="footer-item">
            <span><i class="fas fa-times-circle"></i> Fallos</span>
            <div class="footer-box" id="fails" style="color:#ef4444" aria-label="Respuestas incorrectas">0</div>
        </div>
        <div class="footer-item">
            <span><i class="fas fa-percentage"></i> Éxito</span>
            <div class="footer-box" id="percent" aria-label="Porcentaje de éxito">0%</div>
        </div>
    </div>
    
    <!-- Modal de ayuda de teclado -->
    <div id="keyboardModal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-keyboard"></i> Atajos de Teclado</h3>
                <button onclick="closeKeyboardModal()" aria-label="Cerrar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <table>
                    <tr><td><kbd>1</kbd> - <kbd>5</kbd></td><td>Seleccionar opciones A-E</td></tr>
                    <tr><td><kbd>Enter</kbd></td><td>Confirmar respuesta / Siguiente pregunta</td></tr>
                    <tr><td><kbd>←</kbd></td><td>Pregunta anterior</td></tr>
                    <tr><td><kbd>→</kbd></td><td>Saltar pregunta</td></tr>
                    <tr><td><kbd>H</kbd></td><td>Mostrar/Ocultar esta ayuda</td></tr>
                    <tr><td><kbd>R</kbd></td><td>Modo revisión (al finalizar)</td></tr>
                </table>
            </div>
        </div>
    </div>
</body>
</html>
